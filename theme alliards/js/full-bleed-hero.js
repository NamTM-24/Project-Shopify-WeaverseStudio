import{B as S,g as y}from"./base-section.js";import{S as A}from"./scrollbar.js";import{A as E}from"./autoplay.js";import{E as I}from"./effect-fade.js";import{c as h,r as m,o as w}from"./vue.esm-bundler.js";import{u as C}from"./use-video.js";import{A as d}from"./animations.js";import{S as f,i as T}from"./swiper.js";import{e as c,w as _}from"./shopify.js";import{N as b}from"./analytics-data.js";import"./swiper-core.js";import"./create-element-if-not-defined.js";import"./classes-to-selector.js";import"./effect-virtual-transition-end.js";import"./cookies.js";import"./_commonjsHelpers.js";import"./validator.js";import"./device.js";import"./use-viewport-size.js";const N={autoplay:{delay:5e3,disableOnInteraction:!1},effect:"fade",loop:!0,modules:[E,I,A],on:{autoplayTimeLeft:function({scrollbar:s,slides:o},e,i){if(s.dragEl){const n=100/o.length;s.dragEl.style.width=(1-i)*n+"%"}}},scrollbar:{draggable:!0,el:f.SCROLLBAR,hide:!1},slidesPerView:1},p="full-bleed-hero";class v extends S{constructor(){super(`[data-section-type="${p}"]`)}init(o){const e=o.container,i=Number(e.getAttribute("data-autoplay-delay")),n=this;if(!e){c("[Allbirds section] - Full Bleed Hero - init - Container not found",{},new Error("Container not found"));return}h({name:"FullBleedHeroSection",setup(){const t=m({});let r=null;const l=m(!0),g=()=>{l.value=!l.value,r&&r.autoplay&&r.autoplay[l.value?"resume":"pause"]()};return w(()=>{e.querySelectorAll("video").forEach(a=>{if(a.id){const u=C(a.id);u.init(),t.value[a.id]=u}else _("[Allbirds section] - Full Bleed Hero - onMounted - Video found without ID",{video:a})}),e.querySelectorAll(f.SLIDE).length>1&&(r=T(e,{...N,autoplay:{delay:i,disableOnInteraction:!1}})),n.isHomePageTemplate()&&b({sectionName:p})}),{isPlaying:l,togglePlayPause:g,videoRefs:t}}}).mount(e)}onUnload(o){o.animation&&o.animation.scrollTrigger&&o.animation.scrollTrigger.kill(),o.animation&&(o.animation.kill(),o.animation=null);const e=o.container.__vue_app__;e&&e.unmount()}setupInViewAnimationTimeline(o){const e=o.container,i=e.querySelectorAll("[data-hero-content]"),n=e.querySelector("[data-hero-controls]");if(!e||!i)return c("[Allbirds section] - Full Bleed Hero - setupInViewAnimationTimeline - Missing elements for in-view animation",{},new Error("Missing elements for in-view animation")),null;const t=y.timeline({paused:!0,scrollTrigger:{...this.getInViewAnimationOptions(),trigger:e}});return t?(t.to(e,d.FADE_IN,0),t.to([i,n],d.FADE_IN,.3),t):null}}document.addEventListener("DOMContentLoaded",()=>{new v});
//# sourceMappingURL=full-bleed-hero.js.map
