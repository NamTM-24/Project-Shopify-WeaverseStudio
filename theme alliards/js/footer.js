import{c as N,r as n,m as L,o as k}from"./vue.esm-bundler.js";import{J as A,M as u,F as h,I as y,a as O,G as T,H as b,v as p,K as f,L as c}from"./analytics-data.js";import{G as F}from"./geofencing2.js";import{e as _}from"./shopify.js";import{b as w,p as P}from"./iterable.js";import{b as R}from"./validator.js";import{u as U}from"./use-modal.js";import{u as G}from"./use-viewport-size.js";import{B as K}from"./base-section.js";import"./cookies.js";import"./_commonjsHelpers.js";import"./device.js";import"./use-scroll-lock.js";const i="footer";class D extends K{constructor(){super(`[data-section-type="${i}"]`)}init(C){const r=C.container,E=r.querySelectorAll(`[data-${i}-menu]`);if(!r){_("[Allbirds section] - Footer - init - Container not found",{},new Error("Container not found"));return}N({name:"FooterSection",setup(){const t=n({}),{closeModal:M,isModalOpen:g,modalStates:S,openModal:v}=U(),{isMobile:m}=G(),s=n(""),d=n(!1),l=n(!1),I=L(()=>Object.values(F).map(e=>({label:e.id,value:e.url})));return k(()=>{E.forEach(e=>{const o=e.getAttribute(`data-${i}-menu`);o&&(t.value[o]=!1)}),A({sectionName:i})}),{closeModal:M,emailProvided:d,emailValue:s,geoFencingOptions:I,handleComunicationLinkClick:(e,o,a)=>{e.includes(f.OPEN_CHAT_KEYWORD)?(c({footerLinkCategory:a,footerLinkName:o}),window?.Gladly?.show()):p({analyticsFn:()=>{c({footerLinkCategory:a,footerLinkName:o})},openInNewTab:!1,urlToNavigate:e})},handleCountryChange:e=>{window.location.href=e.target.value},handleSignUpClick:()=>{const e=s.value.trim(),o=u.PLACEMENT.FOOTER,a=w({email:e,isMobile:m.value,placementSource:o});if(e==""||!R(e)){l.value=!0;return}h(e,y()),O({additionalTraits:T({subscriptionSource:o,subscriptionStatus:!0}),email:e}),b({messageMedium:u.MEDIUM.EMAIL,messageType:u.TYPE.ALL,optInStatus:!0,placement:o}),P(a),s.value="",d.value=!0,l.value=!1},handleSocialIconClick:(e,o,a)=>{p({analyticsFn:()=>{c({footerLinkCategory:e,footerLinkName:`${f.SOCIAL_MEDIA_LINKS_TRACKING_NAME_PREFIX}${a}`})},openInNewTab:!0,urlToNavigate:o})},isMenuOpen:e=>t.value[e]===!0,isMobile:m,isModalOpen:g,menuStates:t,modalStates:S,openModal:v,showInvalidEmailMessage:l,toggleMenu:e=>{typeof t.value[e]<"u"&&(t.value[e]=!t.value[e])}}}}).mount(r)}}document.addEventListener("DOMContentLoaded",()=>{new D});
//# sourceMappingURL=footer.js.map
