import{g as o,B as We}from"./base-section.js";import{r as f,w as _,n as G,c as Ge,m as z,o as Ye,a as Ke}from"./vue.esm-bundler.js";import{P as ze,R as Xe,S as F,U as q}from"./analytics-data.js";import{a as je,u as Je}from"./use-cart-drawer-visibility.js";import{u as ie}from"./use-focus-management.js";import{u as Qe}from"./use-scroll-jack-section.js";import{u as Ze}from"./use-scroll-lock.js";import{u as et}from"./use-viewport-size.js";import{b as S,a as L}from"./animations.js";import{e as W}from"./shopify.js";import{i as tt}from"./swiper.js";import"./cookies.js";import"./_commonjsHelpers.js";import"./validator.js";import"./device.js";import"./use-dynamic-yield-api.js";import"./dynamic-yield-settings.js";import"./swiper-core.js";function nt(){const M=f(!1),m=f(null),l=f(null),c=f(null),A=f(null),T=()=>{M.value=!1,m.value=null,l.value=null,c.value=null,A.value=null},E=g=>{l.value=g},h=g=>{M.value=!0,m.value=g,c.value=g},d=()=>{T()};return{activeDesktopCategory:l,activeDesktopMenu:m,closeDesktopMenu:d,hoveredDesktopCategory:A,hoveredDesktopMenu:c,isDesktopMenuOpen:M,openDesktopMenu:h,setActiveDesktopCategory:E,setHoveredDesktopCategory:g=>{A.value=g},setHoveredDesktopMenu:g=>{c.value=g},toggleDesktopMenu:g=>{M.value&&m.value===g?d():M.value?(m.value=g,l.value=null):h(g)}}}function ot(M){const{activeDesktopMenu:m,getLastTriggerElement:l,getPanelElement:c,isDesktopMenuOpen:A,setActiveCategory:T}=M,E=f(null),h=f(null),d=f(!1),s=f(!0),P=f(!0),N=f("keyboard"),g=n=>{N.value=n,s.value=n!=="hover",P.value=n!=="hover"};return ie({containerRef:E,focusFirstOnActivate:s,focusTriggerElementRef:h,isActive:d,onElementActivated:n=>{const k=n.target;if(k instanceof HTMLElement&&k.matches('[data-testid^="desktop-secondary-nav-button-"]')){n.preventDefault();const b=k.dataset.testid?.replace("desktop-secondary-nav-button-","");b&&T(b)}},shouldRestoreFocus:P,trapFocus:!0}),_([A,m],([n,k],[i])=>{if(n&&k){const O=c(k),b=l();E.value=O,h.value=b,d.value=!0}else!n&&i&&(d.value=!1,o.delayedCall(0,()=>{E.value=null,h.value=null}))},{flush:"post"}),{prepareActivation:g}}function at(M){const{getMobileMenuElement:m,getMobileTriggerElement:l,isMobileOpen:c}=M,A=f(null),T=f(null),E=f(!1),{focusFirstElement:h}=ie({containerRef:A,focusFirstOnActivate:!0,focusTriggerElementRef:T,isActive:E,onElementActivated:null,trapFocus:!0});_(c,(d,s)=>{if(d){const P=m(),N=l();P&&N&&(A.value=P,T.value=N,G(()=>{E.value=!0,o.delayedCall(150,()=>{E.value&&h()})}))}else s&&(E.value=!1,o.delayedCall(0,()=>{A.value=null,T.value=null}))},{flush:"post"})}function st(){const M=f(!1),m=f({}),l=f({}),c=f({}),A=()=>{M.value=!M.value,M.value||s()},T=i=>{const b=!(m.value[i]===!0);return l.value={},c.value={},m.value={[i]:b},b},E=i=>{l.value={},c.value={},m.value={[i]:!0}},h=i=>{c.value={},l.value={[i]:!0}},d=i=>{const b=!(c.value[i]??!1);c.value[i]=b},s=()=>{m.value={},l.value={},c.value={}};return{accordionMenuStates:c,isAccordionOpen:i=>c.value[i]===!0,isAnyMenuActive:()=>Object.values(m.value).some(i=>i===!0),isAnySubMenuActive:()=>Object.values(l.value).some(i=>i===!0),isMenuOpen:i=>m.value[i]===!0,isMobileOpen:M,isSubMenuOpen:i=>l.value[i]===!0,menuStates:m,resetAllMenuStates:s,setAccordionsOpenByDefault:(i=[])=>{const O={};i.length&&i.forEach(b=>{O[b]=!0}),c.value=O},setMenuStateActive:E,submenuStates:l,toggleAccordionState:d,toggleMenuState:T,toggleMobileMenuState:A,toggleSubMenuState:h}}const C=M=>{M&&typeof M.kill=="function"&&M.kill()},X=.4,lt=60,j="header";class rt extends We{constructor(){super(`[data-section-type="${j}"]`)}init(m){const l=m.container;if(!l){W("[Allbirds section] - Header - init - Container not found",{},new Error("Container not found"));return}Ge({name:"HeaderSection",setup(){const{isLarge:c}=et(),{lockScroll:A,unlockScroll:T}=Ze(),{cart:E}=je(),h=Je(),d=st(),s=nt(),{isInScrollJackSection:P}=Qe(),N=f(null),g=f(null),U=z(()=>E.value?.item_count||0),n=f({}),k=f({}),i=f({}),O=f({}),b=f({}),I=f(0),B=f(0),w=f(!1),Y=f(!1),ce=z(()=>U.value>0),ve=z(()=>d.isMobileOpen.value||s.isDesktopMenuOpen.value||I.value<B.value||!w.value||Y.value);Ye(()=>{pe(),re(),Ve(),de(),fe(),J(c.value,void 0),k.value.contentFadeIn?.play(),ze({sectionName:j}),Xe({sectionName:j})}),Ke(()=>{ke(),Ue()}),_(c,(e,t)=>{J(e,t)}),_(P,e=>{e&&(w.value=!0)}),_(ve,e=>{if(!n.value.headerBar)return;const a=e?0:-(B.value+20);o.to(n.value.headerBar,{duration:L.ELEMENT.NAVIGATION.DROPDOWN,ease:S.POWER3_IN_OUT,y:a})});const pe=()=>{n.value={allCategoryContentDivs:Array.from(l.querySelectorAll("[data-category-content]")),allCategoryImagesDivs:Array.from(l.querySelectorAll("[data-category-images]")),allDesktopPanels:Array.from(l.querySelectorAll("[data-desktop-submenu-panel]")),allSubmenuPanels:Array.from(l.querySelectorAll("[data-submenu]")),container:l,desktopHeaderContent:l.querySelector("[data-header-content-desktop]"),desktopMenu:l.querySelector("[data-desktop-menu]"),desktopMenuContentWrapper:l.querySelector("[data-desktop-menu-content-wrapper]"),desktopMenuDropdownBackground:l.querySelector("[data-desktop-menu-dropdown-background]"),desktopMenuOverlay:l.querySelector("[data-desktop-menu-overlay]"),desktopNavButtons:l.querySelectorAll("[data-header-content-desktop] button[data-menu-trigger]"),desktopSecondaryNavigationBars:l.querySelectorAll("[data-desktop-secondary-navigation-bar]"),desktopSubmenuPanelContents:l.querySelectorAll("[data-desktop-submenu-panel-content]"),headerBar:l.querySelector("[data-header-bar]"),level1Container:l.querySelector('[data-submenu-level="1"]'),level2Container:l.querySelector('[data-submenu-level="2"]'),mainMenuContainer:l.querySelector('[data-submenu-level="0"]'),mobileHeaderContent:l.querySelector("[data-header-content-mobile]"),mobileMenu:l.querySelector("[data-mobile-menu]"),mobileMenuFooter:l.querySelector("[data-mobile-menu-footer]"),mobileMenuItems:Array.from(l.querySelectorAll("[data-mobile-menu-item]")),mobileMenuOverlay:l.querySelector("[data-mobile-menu-overlay]"),mobileMenuToggle:l.querySelector('[data-testid="mobile-menu-toggle"]')}},de=()=>{k.value.mobileOverlay=be(),k.value.desktopDropdown=Oe(),k.value.contentFadeIn=Se()},fe=()=>{ye(),me(),ge(),Me()},ye=()=>{window.addEventListener("keydown",Q)},me=()=>{window.addEventListener("scroll",le,{passive:!0})},ge=()=>{window.addEventListener("mousemove",ue,{passive:!0})},Me=()=>{b.value={},n.value.desktopNavButtons?.forEach(e=>{const t=e.dataset.menuTrigger;if(t){const a=r=>we(r,t,e);b.value[t]=a,e.addEventListener("keydown",a)}})},ke=()=>{window.removeEventListener("keydown",Q),window.removeEventListener("scroll",le),window.removeEventListener("mousemove",ue),n.value.desktopNavButtons?.forEach(e=>{const t=e.dataset.menuTrigger;t&&b.value[t]&&e.removeEventListener("keydown",b.value[t])}),b.value={}};function J(e,t){if(e!==t)if(n.value.headerBar&&o.set(n.value.headerBar,{y:0}),w.value=!1,re(),e){if(d.isMobileOpen.value){d.closeMobileMenu(),T(),o.set(n.value.mobileMenu,{pointerEvents:"none"}),o.set(n.value.mobileMenuOverlay,{scaleY:0}),o.set(n.value.mainMenuContainer,{opacity:0,pointerEvents:"none"});const a={opacity:0,pointerEvents:"none",xPercent:0};o.set(n.value.allSubmenuPanels,a),o.set([n.value.level1Container,n.value.level2Container],a)}K()}else s.isDesktopMenuOpen.value&&(s.closeDesktopMenu(),o.set(n.value.allDesktopPanels,{display:"none"}),o.set(n.value.desktopMenu,{pointerEvents:"none"}),o.set(n.value.desktopMenuOverlay,{opacity:0}),o.set(n.value.desktopMenuDropdownBackground,{scaleY:0}),o.set(n.value.desktopMenuContentWrapper,{opacity:0})),se()}const Q=e=>{e.key==="Escape"&&(c.value&&s.isDesktopMenuOpen.value?x():!c.value&&d.isMobileOpen.value&&te())},Se=()=>{const{desktopHeaderContent:e,mobileHeaderContent:t}=n.value;return!t||!e?null:o.to([t,e],{duration:L.SECTION.FADE_IN,ease:S.SINE_OUT,opacity:1,paused:!0})},be=()=>{const{mainMenuContainer:e,mobileMenu:t,mobileMenuFooter:a,mobileMenuItems:r,mobileMenuOverlay:v}=n.value;if(!t||!v||!r?.length||!a||!e)return null;const u=L.ELEMENT.NAVIGATION.DROPDOWN,p=o.timeline({onReverseComplete:()=>{o.set(t,{pointerEvents:"none"});const y={display:"none",opacity:0,pointerEvents:"none",xPercent:0};o.set(n.value.allSubmenuPanels,y),o.set([n.value.mainMenuContainer,n.value.level1Container,n.value.level2Container],y)},paused:!0});return p.set(e,{display:"flex"},0),p.to(e,{duration:u*.8,ease:S.SINE_OUT,opacity:1,pointerEvents:"auto"},0),p.fromTo(v,{scaleY:0},{duration:u,ease:S.POWER3_IN_OUT,scaleY:1,transformOrigin:"top"},0),p.fromTo(r,{opacity:0,pointerEvents:"none"},{duration:u,ease:S.SINE_OUT,opacity:1,pointerEvents:"auto",stagger:.05},u+.1),p.fromTo(a,{opacity:0,pointerEvents:"none"},{duration:u,ease:S.SINE_OUT,opacity:1,pointerEvents:"auto"},u+.1),p},Oe=()=>{const{allDesktopPanels:e,desktopMenu:t,desktopMenuContentWrapper:a,desktopMenuDropdownBackground:r,desktopMenuOverlay:v}=n.value;if(!t||!a||!v||!r)return null;const u=L.ELEMENT.NAVIGATION.DROPDOWN,p=o.timeline({onReverseComplete:()=>{o.set(e,{display:"none"}),o.set(t,{pointerEvents:"none"}),s.closeDesktopMenu()},onStart:()=>{o.set(t,{pointerEvents:"auto"})},paused:!0});return p.fromTo(v,{opacity:0},{duration:u*.8,ease:S.SINE_OUT,opacity:1},0),p.fromTo(r,{scaleY:0},{duration:u,ease:S.POWER3_IN_OUT,scaleY:1,transformOrigin:"top"},0),p.fromTo(a,{opacity:0},{duration:u*.5,ease:S.SINE_OUT,opacity:1},u*.5),p.fromTo([...n.value.desktopSecondaryNavigationBars,...n.value.desktopSubmenuPanelContents],{opacity:0},{duration:u*.85,ease:S.SINE_OUT,opacity:1,stagger:.05},u*.85),p},Z=e=>e?.dataset?.submenu||e?.dataset?.desktopSubmenuPanel||null,ee=e=>{if(!e||c.value)return;const t=e.querySelector(".menu-image-carousel"),a=Z(e);if(t&&a&&!O.value[a]){const r=tt(e,{slidesPerView:2.3,spaceBetween:10});if(!r){W("[Allbirds section] - Header - initializeCarouselIfNeeded - Failed to initialize Swiper",{panelElement:e,panelId:a});return}O.value[a]=r,o.to(t,{duration:.3,ease:"sine.out",opacity:1})}},Ee=e=>{if(c.value)return;const t=Z(e);if(t&&O.value[t]){const a=e?.querySelector(".menu-image-carousel");a&&o.set(a,{opacity:0});try{O.value[t].destroy(!0,!0)}catch(r){W("[Allbirds section] - Header - destroyCarousel - Error destroying carousel",{panelElement:e},r)}delete O.value[t]}},K=()=>{c.value||(Object.keys(O.value).forEach(e=>{try{O.value[e]?.destroy(!0,!0)}catch(t){W("[Allbirds section] - Header - destroyAllCarousels - Error destroying carousel",{panelId:e},t)}}),O.value={})},De=e=>{if(!e||c.value)return;const t=e.querySelectorAll("[data-accordion-content]");if(!t.length)return;const a=Array.from(t).map(r=>r.dataset.accordionContent);d.setAccordionsOpenByDefault(a),Array.from(t).forEach(r=>{d.isAccordionOpen(r.dataset.accordionContent)?o.set(r,{maxHeight:`${r.scrollHeight}px`}):o.set(r,{maxHeight:"0px"})})},V=(e,t,a)=>{if(!e||!t)return;o.killTweensOf([e,t]);const r=e.closest("[data-submenu-level]"),v=t.closest("[data-submenu-level]");o.killTweensOf([r,v]),o.set(t,{display:"flex"}),v&&o.set(v,{display:"flex"});const u=o.timeline({onComplete:()=>{Ee(e),ee(t),o.set(e,{display:"none"}),r&&r!==v&&o.set(r,{display:"none"}),G(()=>{let $=null;a==="backward"&&g.value?($=g.value,g.value=null):$=t.querySelector('button[aria-label*="Back"]')||t.querySelector("button:not([disabled]), a[href]:not([disabled])")||t.querySelector('input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),$&&$.focus()})}});v&&(o.set(v,{opacity:0,pointerEvents:"none",xPercent:0}),u.to(v,{duration:.1,ease:"none",opacity:1,pointerEvents:"auto"},0));const y={backward:{current:{xPercent:100},next:{fromXPercent:-100,toXPercent:0}},forward:{current:{xPercent:-100},next:{fromXPercent:100,toXPercent:0}}}[a],D=L.ELEMENT.NAVIGATION.SLIDE,R=S.POWER3_IN_OUT,H=D*.5;u.to(e,{duration:D,ease:R,pointerEvents:"none",xPercent:y.current.xPercent},0),u.to(e,{duration:H,ease:S.SINE_IN,opacity:0},0),u.fromTo(t,{pointerEvents:"none",xPercent:y.next.fromXPercent},{duration:D,ease:R,pointerEvents:"auto",xPercent:y.next.toXPercent},0),u.fromTo(t,{opacity:0},{duration:H,ease:S.SINE_OUT,opacity:1},0),u.play()},Ce=()=>{const{allSubmenuPanels:e,level1Container:t,level2Container:a}=n.value,r=e.length>0,v=o.timeline({onComplete:()=>{const y={display:"none",opacity:0,pointerEvents:"none",xPercent:0};t&&o.set(t,y),a&&o.set(a,y),r&&o.set(e,y)},paused:!0}),u={duration:L.ELEMENT.NAVIGATION.SLIDE*.8,ease:S.POWER3_IN_OUT,opacity:0,pointerEvents:"none"},p=[];return r&&p.push(...e),t&&p.push(t),a&&p.push(a),p.length>0&&v.to(p,{...u,stagger:.03},0),v},te=()=>{if(c.value)return;s.isDesktopMenuOpen.value&&x();const e=d.isMobileOpen.value;if(d.toggleMobileMenuState(),e)T(),Ce().play(),k.value.mobileOverlay?.reverse(),K();else{A(),o.set(n.value.mobileMenu,{pointerEvents:"auto"});const t={display:"none",opacity:0,pointerEvents:"none"},a={opacity:0,pointerEvents:"none"};o.set(n.value.allSubmenuPanels,{...t,xPercent:100}),n.value.level1Container&&o.set(n.value.level1Container,{...t,xPercent:0}),n.value.level2Container&&o.set(n.value.level2Container,{...t,xPercent:0}),o.set([...n.value.mobileMenuItems,n.value.mobileMenuFooter],a),o.set(n.value.mainMenuContainer,{display:"flex",opacity:0,pointerEvents:"none",xPercent:0}),k.value.mobileOverlay?.invalidate().restart();const r=k.value.mobileOverlay?.duration()||.5;o.delayedCall(r,()=>ee(n.value.mainMenuContainer))}},Ae=(e,t=void 0,a)=>{if(F({navigationLevel1:e,navigationType:a?q.GLOBAL:q.BACK,[t&&"navigationLevel2"]:new String(t).split("_").pop()}),c.value)return;const{level1Container:r,level2Container:v,mainMenuContainer:u}=n.value;if(!u||!r)return;const p=r.querySelector(`[data-submenu="${e}"]`);if(!p)return;if(t){if(!v)return;const D=v.querySelector(`[data-submenu="${t}"]`);if(!D)return;d.setMenuStateActive(e),V(D,p,"backward");return}a?.currentTarget&&(g.value=a.currentTarget);const y=!d.isMenuOpen(e);d.toggleMenuState(e),y?V(u,p,"forward"):V(p,u,"backward"),v&&o.set(v,{opacity:0,pointerEvents:"none"})},Te=(e,t,a,r)=>{if(F({navigationLevel1:t,navigationLevel2:a,navigationType:q.LEVEL_2}),c.value)return;const{level1Container:v,level2Container:u}=n.value;if(!v||!u)return;const p=v.querySelector(`[data-submenu="${t}"]`);if(!p)return;const y=u.querySelector(`[data-submenu="${e}"]`);if(!y)return;r?.currentTarget&&(g.value=r.currentTarget);const D=!d.isSubMenuOpen(e);d.toggleSubMenuState(e),D&&(V(p,y,"forward"),De(y))},he=(e,t,a,r)=>{if(F({navigationLevel1:t,navigationLevel2:a,navigationLevel3:r,navigationType:q.LEVEL_3}),c.value)return;const v=n.value.container.querySelector(`[data-accordion-content="${e}"]`);if(!v)return;const u=d.isAccordionOpen(e);d.toggleAccordionState(e),o.to(v,{duration:L.ELEMENT.NAVIGATION.DROPDOWN*.5,ease:S.POWER3_IN_OUT,maxHeight:u?"0px":`${v.scrollHeight}px`,onComplete:()=>{u||o.set(v,{maxHeight:"auto"})}})},ne=(e,t=!0)=>{if(!e||!n.value.container)return;const a=n.value.container.querySelector(`[data-testid="desktop-submenu-panel-${s.activeDesktopMenu.value}"]`);if(!a)return;const r=a.querySelector(`[data-testid="desktop-category-content-${e}"]`),v=a.querySelector(`[data-testid="desktop-category-images-${e}"]`),u=[];r&&u.push(r),v&&u.push(v),u.length>0&&o.to(u,{duration:L.ELEMENT.NAVIGATION.DROPDOWN,ease:t?S.SINE_OUT:S.SINE_IN,opacity:t?1:0,stagger:.25})};_(s.activeDesktopCategory,(e,t)=>{if(s.isDesktopMenuOpen.value&&e!==t&&(t&&ne(t,!1),e)){const a=n.value.container.querySelector(`[data-testid="desktop-submenu-panel-${s.activeDesktopMenu.value}"]`),r=a?.querySelector(`[data-testid="desktop-category-content-${e}"]`),v=a?.querySelector(`[data-testid="desktop-category-images-${e}"]`),u=[r,v].filter(Boolean);u.length>0&&(o.set(u,{opacity:0}),G(()=>{ne(e,!0)}))}});const Ne=e=>e&&n.value.container.querySelector(`[data-desktop-submenu-panel="${e}"]`)?.dataset?.defaultCategory||null,oe=e=>{if(!c.value)return;const t=s.isDesktopMenuOpen.value;if(t&&s.activeDesktopMenu.value===e)x();else{const r=Ne(e);if(t){const v=s.activeDesktopMenu.value,u=n.value.container.querySelector(`[data-desktop-submenu-panel="${v}"]`),p=[];if(u){const y=u.querySelector("[data-desktop-submenu-panel-content]"),D=u.querySelector("[data-desktop-secondary-navigation-bar]");y&&p.push(y),D&&p.push(D)}o.to(p,{duration:L.ELEMENT.NAVIGATION.DROPDOWN*.5,ease:S.SINE_IN,onComplete:async()=>{s.openDesktopMenu(e),s.setActiveDesktopCategory(r),await G();const y=n.value.container.querySelector(`[data-desktop-submenu-panel="${e}"]`);if(!y)return;const D=y.querySelector("[data-desktop-submenu-panel-content]"),R=y.querySelector("[data-desktop-secondary-navigation-bar]"),H=[];D&&H.push(D),R&&H.push(R),o.fromTo(H,{opacity:0},{duration:L.ELEMENT.NAVIGATION.DROPDOWN*.5,ease:S.SINE_OUT,opacity:1,stagger:.05})},opacity:0})}else{if(!n.value.container.querySelector(`[data-desktop-submenu-panel="${e}"]`))return;s.openDesktopMenu(e),s.setActiveDesktopCategory(r),k.value.desktopDropdown?.invalidate().timeScale(1).restart()}}},Pe=()=>N.value,Le=e=>e?n.value.container?.querySelector(`[data-testid="desktop-submenu-panel-${e}"]`):null,{prepareActivation:ae}=ot({activeDesktopMenu:s.activeDesktopMenu,getLastTriggerElement:Pe,getPanelElement:Le,isDesktopMenuOpen:s.isDesktopMenuOpen,setActiveCategory:s.setActiveDesktopCategory});at({getMobileMenuElement:()=>n.value.mobileMenu,getMobileTriggerElement:()=>n.value.mobileMenuToggle,isMobileOpen:d.isMobileOpen});const we=(e,t,a)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),N.value=a,ae("keyboard"),oe(t))},He=e=>{if(!c.value)return;const t=n.value.container?.querySelector(`button[data-menu-trigger="${e}"]`);if(t&&(N.value=t),C(i.value.categoryHover),s.setHoveredDesktopCategory(null),s.setHoveredDesktopMenu(e),C(i.value.close),s.isDesktopMenuOpen.value&&s.activeDesktopMenu.value===e){C(i.value.open);return}C(i.value.open),ae("hover"),i.value.open=o.delayedCall(X,()=>{t&&(N.value=t),oe(e),F({navigationLevel1:e,navigationType:q.GLOBAL})})},qe=()=>{c.value&&(C(i.value.open),s.setHoveredDesktopMenu(null))},_e=()=>{c.value&&C(i.value.close)},Ie=e=>{const t=e.relatedTarget==n.value.desktopMenuDropdownBackground;!c.value||t||(C(i.value.categoryHover),s.setHoveredDesktopCategory(null),xe())},Be=(e,t,a)=>{s.setHoveredDesktopCategory(e),C(i.value.categoryHover),s.activeDesktopCategory.value!==e&&(i.value.categoryHover=o.delayedCall(X,()=>{s.setActiveDesktopCategory(e),F({navigationLevel1:t,navigationLevel2:a,navigationType:q.LEVEL_2})}))},xe=()=>{!c.value||!s.isDesktopMenuOpen.value||(C(i.value.close),i.value.close=o.delayedCall(X,x))},x=()=>{!c.value||!s.isDesktopMenuOpen.value||(C(i.value.open),C(i.value.close),k.value.desktopDropdown?.timeScale(1.5).reverse(),s.setHoveredDesktopMenu(null),s.setHoveredDesktopCategory(null))},Re=()=>{const e=document.querySelector("main");e&&(e.getAttribute("tabindex")===null&&e.setAttribute("tabindex","-1"),e.focus())},Fe=()=>{Object.values(k.value).forEach(C),k.value={}},se=()=>{Object.values(i.value).forEach(C),i.value={}},Ue=()=>{Fe(),se(),K(),o.killTweensOf(l),o.killTweensOf(l.querySelectorAll("*"))},Ve=()=>{const e={display:"none",opacity:0,pointerEvents:"none"};n.value.mainMenuContainer&&o.set(n.value.mainMenuContainer,e),n.value.level1Container&&o.set(n.value.level1Container,e),n.value.level2Container&&o.set(n.value.level2Container,e),n.value.allSubmenuPanels?.length&&o.set(n.value.allSubmenuPanels,e),n.value.mobileMenuOverlay&&o.set(n.value.mobileMenuOverlay,{scaleY:0}),o.set(n.value.mobileMenu,{pointerEvents:"none"})},le=()=>{const e=window.scrollY;Math.abs(e-I.value)>=60&&(e>I.value&&e>B.value?(w.value=!0,Y.value=!1):e<I.value?P.value||(w.value=!1):e<=B.value&&(w.value=!1),I.value=Math.max(0,e)),c.value&&s.isDesktopMenuOpen.value&&x()},re=()=>{n.value.headerBar&&(B.value=n.value.headerBar.offsetHeight)},$e=()=>{c.value&&(C(i.value.categoryHover),s.setHoveredDesktopCategory(null))},ue=e=>{w.value&&e.clientY<=lt&&(Y.value=!0)};return{activeDesktopCategory:s.activeDesktopCategory,activeDesktopMenu:s.activeDesktopMenu,cartCount:U,cartVisibility:h,handleCategoryMouseEnter:Be,handleCategoryMouseLeave:$e,handleDesktopMenuMouseEnter:He,handleDesktopMenuMouseLeave:qe,handlePanelMouseEnter:_e,handlePanelMouseLeave:Ie,handleSkipToContentClick:Re,hoveredDesktopCategory:s.hoveredDesktopCategory,hoveredDesktopMenu:s.hoveredDesktopMenu,isAccordionMenuOpen:d.isAccordionOpen,isDesktopMenuOpen:s.isDesktopMenuOpen,isLarge:c,isMobileOpen:d.isMobileOpen,showCartCount:ce,toggleAccordionMenu:he,toggleMobileMenu:te,toggleSelectedMenu:Ae,toggleSelectedSubMenu:Te}}}).mount(l)}onUnload(m){const l=m.container.__vue_app__;l&&(l.unmount(),delete m.container.__vue_app__)}}document.addEventListener("DOMContentLoaded",()=>{new rt});
//# sourceMappingURL=header.js.map
