import{g as r,S as l,B as m}from"./base-section.js";import{e as t}from"./shopify.js";import{K as d}from"./keyboard.js";import{N as c}from"./navigation.js";import{A as u}from"./autoplay.js";import{E as b}from"./effect-fade.js";import{c as p,o as f,a as g}from"./vue.esm-bundler.js";import{O as y}from"./analytics-data.js";import{i as v}from"./swiper.js";import"./swiper-core.js";import"./create-element-if-not-defined.js";import"./effect-virtual-transition-end.js";import"./cookies.js";import"./_commonjsHelpers.js";import"./validator.js";import"./device.js";import"./use-viewport-size.js";r.registerPlugin(l);const i="global-banner";class w extends m{constructor(){super(`[data-section-type="${i}"]`)}init(o){const e=o.container;if(!e){t("[Allbirds section] - Global Banner - init - Container not found",{},new Error("Container not found"));return}p({name:"GlobalBannerSection",setup(){let n=null;const a=Number(e.getAttribute("data-autoplay-delay"));return f(()=>{n=v(e,{autoplay:{delay:a,disableOnInteraction:!0},effect:"fade",fadeEffect:{crossFade:!0},keyboard:{enabled:!0},loop:!0,modules:[u,b,c,d],slidesPerView:1}),n&&(document.body.classList.add("global-banner-active"),requestAnimationFrame(()=>{const s=e.offsetHeight;document.documentElement.style.setProperty("--global-banner-height",`${s}px`)})),y({sectionName:i})}),g(()=>{n?.destroy(),n=null,document.body.classList.remove("global-banner-active"),document.body.classList.remove("global-banner-in-view")}),{}}}).mount(e)}setupInViewAnimationTimeline(o){const e=o.container;if(!e)return t("[Allbirds section] - Global Banner - setupInViewAnimationTimeline - Missing elements for in-view animation",{},new Error("Missing elements for in-view animation")),null;const n=r.timeline({paused:!0,scrollTrigger:{once:!1,onEnter:()=>{document.body.style.position!=="fixed"&&document.body.classList.add("global-banner-in-view")},onEnterBack:()=>{document.body.style.position!=="fixed"&&document.body.classList.add("global-banner-in-view")},onLeave:()=>{document.body.style.position!=="fixed"&&document.body.classList.remove("global-banner-in-view")},trigger:e}});return n||null}}document.addEventListener("DOMContentLoaded",()=>{new w});
//# sourceMappingURL=global-banner.js.map
